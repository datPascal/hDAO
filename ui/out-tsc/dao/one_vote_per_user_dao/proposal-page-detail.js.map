{"version":3,"file":"proposal-page-detail.js","sourceRoot":"","sources":["../../../src/dao/one_vote_per_user_dao/proposal-page-detail.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAEnE,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,cAAc,EAAE,mBAAmB,EAAE,MAAM,gBAAgB,CAAC;AAErE,OAAO,iCAAiC,CAAC;AAGlC,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,UAAU;IAYhD,KAAK,CAAC,YAAY;QAChB,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAgB,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,KAAK,KAAK,CAAE,CAAC;QACzF,MAAM,MAAM,GAAuB,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAClE,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,QAAQ,CAAC,OAAO;YACzB,SAAS,EAAE,uBAAuB;YAClC,OAAO,EAAE,mBAAmB;YAC5B,OAAO,EAAE,IAAI,CAAC,UAAU;YACxB,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;SAChC,CAAC,CAAC;QACH,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,aAAa,GAAG,MAAM,CAAE,MAAM,CAAC,KAAa,CAAC,OAAO,CAAC,KAAK,CAAiB,CAAC;SAClF;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,OAAO,IAAI,CAAA;;aAEJ,CAAC;SACT;QACD,OAAO,IAAI,CAAA;;;;;;0CAM4B,IAAI,CAAC,aAAa,CAAC,KAAM;;;;4CAIvB,IAAI,CAAC,aAAa,CAAC,OAAQ;;;;;;;;;;;;;;;;;;;;;;;;;KAyBnE,CAAC;IACJ,CAAC;;AAEM,yBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiKlB,CAAC;AAtOF;IADC,QAAQ,EAAE;sDACa;AAGxB;IADC,KAAK,EAAE;yDACgC;AAGxC;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,mBAAmB,EAAE,CAAC;wDACtB;AAE5B;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;mDAClB;AAVhB,kBAAkB;IAD9B,aAAa,CAAC,sBAAsB,CAAC;GACzB,kBAAkB,CAyO9B;SAzOY,kBAAkB","sourcesContent":["import { LitElement, css ,html } from 'lit';\nimport { state, customElement, property } from 'lit/decorators.js';\nimport { InstalledCell, AppWebsocket, Record, ActionHash, InstalledAppInfo } from '@holochain/client';\nimport { contextProvided } from '@lit-labs/context';\nimport { decode } from '@msgpack/msgpack';\nimport { appInfoContext, appWebsocketContext } from '../../contexts';\nimport { ProposalPage } from './proposal-page';\nimport '@material/mwc-circular-progress';\n\n@customElement('proposal-page-detail')\nexport class ProposalPageDetail extends LitElement {\n  @property()\n  actionHash!: ActionHash;\n\n  @state()\n  _proposalPage: ProposalPage | undefined;\n\n  @contextProvided({ context: appWebsocketContext })\n  appWebsocket!: AppWebsocket;\n  @contextProvided({ context: appInfoContext })\n  appInfo!: InstalledAppInfo;\n\n  async firstUpdated() {\n    const cellData = this.appInfo.cell_data.find((c: InstalledCell) => c.role_id === 'dao')!;\n    const record: Record | undefined = await this.appWebsocket.callZome({\n      cap_secret: null,\n      cell_id: cellData.cell_id,\n      zome_name: 'one_vote_per_user_dao',\n      fn_name: 'get_proposal_page',\n      payload: this.actionHash,\n      provenance: cellData.cell_id[1]\n    });\n    if (record) {\n      this._proposalPage = decode((record.entry as any).Present.entry) as ProposalPage;\n    }\n  }\n\n  render() {\n    if (!this._proposalPage) {\n      return html`<div style=\"display: flex; flex: 1; align-items: center; justify-content: center\">\n        <mwc-circular-progress indeterminate></mwc-circular-progress>\n      </div>`;\n    }\n    return html`\n      <div class=\"Proposalbox\">\n      <div class= \"even-columns\">\n        <div>\n          <div class=\"ProposalboxesInner\">\n            <span><strong></strong></span>\n            <span class=\"Proposaltitle\">${ this._proposalPage.title }</span>\n          </div>\n          <div class=\"ProposalboxesInner\">\n            <span><strong></strong></span>\n            <span class=\"Proposalcontent\">${ this._proposalPage.content }</span>\n          </div>\n        </div>\n        <div class= \"ProposalboxesInner\">\n          <div class=\"author-container\">\n            <img src=\"author-profile-picture.jpg\" alt=\"Author's Profile Picture\" class=\"author-picture\">\n            <h3 class=\"author-name\">Author's Name</h3>\n            <p class=\"author-role\">Author's Role</p>\n          </div>\n\n          <span class=\"voting-area\">\n            <div class=\"chart\">\n              <div class=\"yes\">\n              </div>\n              <div class=\"no\">\n              </div>\n            </div>\n            <div class=\"voting-grid\">\n              <a href=\"#\" class=\"green-button\">Yes</a>\n              <a href=\"#\" class=\"red-button\">No</a>\n            </div>\n          </span>\n        </div>\n      </div>\n      </div>\n    `;\n  }\n\n  static styles = css`\n    .Proposalbox {\n      flex-direction: column;\n      flex: 0 0 auto;\n      width: 800px;\n      max-height; 1200;\n      display: flex;\n      padding: var(2rem);\n      z-index: 1;\n      box-shadow: 0 8px 26px -4px hsla(0,0%,8%,.15),0 8px 9px -5px hsla(0,0%,8%,.06)!important;\n      margin-top: var(2rem);\n      align-items: flex-start;\n      border-radius: var(2rem);\n      flex-direction: column;\n      backdrop-filter: saturate(200%) blur(30px);\n      overflow-wrap: break-word;\n      background-color: #d3d0d0;\n      border-radius: 25px;\n    }\n    .ProposalboxesInner {\n      display: flex; \n      flex-direction: column;\n      border-width: 2;\n      border-color: black;\n    }\n    .Proposaltitle {\n      padding-left: 1rem;\n      padding-top: 1rem;\n      white-space: pre-line;\n      padding-bottom: 1rem;\n      width: 550px;\n      font-size: 25px;\n      overflow-wrap: break-word;\n      max-width: 100%;\n      text-overflow: ellipsis;\n      color: black;\n      align-self: content;\n    }\n    .Proposalcontent {\n      padding-left: 1rem;\n      white-space: pre-line;\n      overflow-wrap: break-word;\n      max-width: 100%;\n      text-overflow: ellipsis;\n      width: 550px;\n      color: black;\n      padding-bottom: 1rem;\n      align-self: content;\n    }\n    .voting-area {\n      padding-left: 1rem;\n      white-space: pre-line;\n      overflow-wrap: break-word;\n      max-width: 100%;\n      text-overflow: ellipsis;\n      width: 200px;\n      color: black;\n      padding-bottom: 1rem;\n      padding-right: 1rem;\n      align-self: voting;\n    }\n    .even-columns{\n      display: grid;\n      grid-template-areas:\n        \"content voting\";\n      grid-template-columns: 3fr 1fr;\n      grid-template-rows: auto;\n      gap: 1fr;\n    }\n    .voting-grid{\n      display: grid;\n      grid-template-areas:\n        \"Yes No\";\n      grid-template-columns: 1fr 1fr;\n      grid-template-rows: auto;\n      gap: 1fr 1fr;\n    }\n    .green-button {\n      background-color: green;\n      border: none;\n      color: white;\n      padding: 15px 32px;\n      text-align: center;\n      text-decoration: none;\n      display: inline-block;\n      font-size: 16px;\n      border-radius: 4px;\n      margin: auto; /* this will center the button within the container */\n    }\n    .green-button:hover {\n      background-color: darkgreen;\n      color: white;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    }\n    .red-button {\n      background-color: red;\n      border: none;\n      color: white;\n      padding: 15px 32px;\n      text-align: center;\n      text-decoration: none;\n      display: inline-block;\n      font-size: 16px;\n      border-radius: 4px;\n      margin: auto; /* this will center the button within the container */\n    }\n    .red-button:hover {\n      background-color: darkred;\n      color: white;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    }\n    .author-container {\n      padding-left: 1rem;\n      align-items: center;\n      margin: 16px 0;\n    }\n\n    .author-picture {\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      margin-right: 16px;\n    }\n\n    .author-name {\n      font-size: 18px;\n      font-weight: bold;\n      margin: 0;\n    }\n\n    .author-role {\n      font-size: 14px;\n      color: #666;\n      margin: 0;\n    }\n    .chart {\n      display: flex; /* Make the chart a flex container */\n      width: auto; /* Set the width of the chart */\n      height: 30px; /* Set the height of the chart */\n      border: 1px solid #333; /* Add a border to the chart */\n    }\n    \n    /* Style the yes bar */\n    .yes {\n      background-color: green; /* Set the background color to green */\n      width: 50%; /* Set the width of the bar to 50% */\n      height: 100%; /* Make the bar the full height of the chart */\n      text-align: center; /* Center the text inside the bar */\n      line-height: 30px; /* Vertically center the text */\n      color: white; /* Set the text color to white */500px\n    }\n    \n    /* Style the no bar */\n    .no {\n      background-color: red; /* Set the background color to red */\n      width: 50%; /* Set the width of the bar to 50% */\n      height: 100%; /* Make the bar the full height of the chart */\n      text-align: center; /* Center the text inside the bar */\n      line-height: 30px; /* Vertically center the text */\n      color: white; /* Set the text color to white */\n    }\n  `;\n}\n"]}